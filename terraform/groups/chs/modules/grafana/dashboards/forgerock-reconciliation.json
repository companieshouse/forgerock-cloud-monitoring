{
    "annotations": {
      "list": [
        {
          "builtIn": 1,
          "datasource": "-- Grafana --",
          "enable": true,
          "hide": true,
          "iconColor": "rgba(0, 211, 255, 1)",
          "name": "Annotations & Alerts",
          "target": {
            "limit": 100,
            "matchAny": false,
            "tags": [],
            "type": "dashboard"
          },
          "type": "dashboard"
        }
      ]
    },
    "editable": true,
    "fiscalYearStartMonth": 0,
    "graphTooltip": 0,
    "id": 7,
    "iteration": 1648547642697,
    "links": [],
    "liveNow": false,
    "panels": [
      {
        "collapsed": false,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 0
        },
        "id": 32,
        "panels": [],
        "title": "Latest reconciliations",
        "type": "row"
      },
      {
        "datasource": {
          "type": "cloudwatch",
          "uid": "${datasource}"
        },
        "description": "OK = the latest Companies recon was successful",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "decimals": 0,
            "displayName": "Last check",
            "mappings": [
              {
                "options": {
                  "0": {
                    "color": "red",
                    "index": 0,
                    "text": "FAIL"
                  }
                },
                "type": "value"
              },
              {
                "options": {
                  "from": 1,
                  "result": {
                    "color": "green",
                    "index": 1,
                    "text": "OK"
                  },
                  "to": 10
                },
                "type": "range"
              }
            ],
            "max": 100,
            "min": 0,
            "noValue": "0",
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "red",
                  "value": null
                },
                {
                  "color": "green",
                  "value": 1
                }
              ]
            },
            "unit": "none"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 7,
          "w": 4,
          "x": 0,
          "y": 1
        },
        "id": 59,
        "options": {
          "colorMode": "background",
          "graphMode": "none",
          "justifyMode": "center",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "textMode": "auto"
        },
        "pluginVersion": "8.4.3",
        "targets": [
          {
            "datasource": {
              "type": "cloudwatch",
              "uid": "${datasource}"
            },
            "expression": "fields @timestamp, @message\n| fields strcontains(@message, 'RECON_SUCCESS') as passed\n| stats sum(passed) as passed_count",
            "id": "",
            "logGroupNames": [
              "/aws/lambda/cwsyn-mapping-chscompany-d2285bc6-eac0-4206-afc1-4086df4a1b4c"
            ],
            "namespace": "CloudWatchSynthetics",
            "queryMode": "Logs",
            "refId": "A",
            "region": "default",
            "statsGroups": []
          }
        ],
        "timeFrom": "30m",
        "title": "Latest Companies Recon",
        "type": "stat"
      },
      {
        "datasource": {
          "type": "cloudwatch",
          "uid": "${datasource}"
        },
        "description": "OK = the latest Auth Codes recon was successful",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "decimals": 0,
            "displayName": "Last check",
            "mappings": [
              {
                "options": {
                  "0": {
                    "color": "red",
                    "index": 0,
                    "text": "FAIL"
                  }
                },
                "type": "value"
              },
              {
                "options": {
                  "from": 1,
                  "result": {
                    "color": "green",
                    "index": 1,
                    "text": "OK"
                  },
                  "to": 10
                },
                "type": "range"
              }
            ],
            "max": 100,
            "min": 0,
            "noValue": "0",
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "red",
                  "value": null
                },
                {
                  "color": "green",
                  "value": 1
                }
              ]
            },
            "unit": "none"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 7,
          "w": 4,
          "x": 4,
          "y": 1
        },
        "id": 60,
        "options": {
          "colorMode": "background",
          "graphMode": "none",
          "justifyMode": "center",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "textMode": "auto"
        },
        "pluginVersion": "8.4.3",
        "targets": [
          {
            "datasource": {
              "type": "cloudwatch",
              "uid": "${datasource}"
            },
            "expression": "fields @timestamp, @message\n| fields strcontains(@message, 'RECON_SUCCESS') as passed\n| stats sum(passed) as passed_count",
            "id": "",
            "logGroupNames": [
              "/aws/lambda/cwsyn-mapping-wfauthcode-70eb801d-5c40-48bc-b944-d9318ffac431"
            ],
            "namespace": "CloudWatchSynthetics",
            "queryMode": "Logs",
            "refId": "A",
            "region": "default",
            "statsGroups": []
          }
        ],
        "timeFrom": "30m",
        "title": "Last Auth Codes Recon",
        "type": "stat"
      },
      {
        "datasource": {
          "type": "cloudwatch",
          "uid": "${datasource}"
        },
        "description": "OK = the latest Users recon was successful",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "decimals": 0,
            "displayName": "Last check",
            "mappings": [
              {
                "options": {
                  "0": {
                    "color": "red",
                    "index": 0,
                    "text": "FAIL"
                  }
                },
                "type": "value"
              },
              {
                "options": {
                  "from": 1,
                  "result": {
                    "color": "green",
                    "index": 1,
                    "text": "OK"
                  },
                  "to": 10
                },
                "type": "range"
              }
            ],
            "max": 100,
            "min": 0,
            "noValue": "0",
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "red",
                  "value": null
                },
                {
                  "color": "green",
                  "value": 1
                }
              ]
            },
            "unit": "none"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 7,
          "w": 4,
          "x": 8,
          "y": 1
        },
        "id": 61,
        "options": {
          "colorMode": "background",
          "graphMode": "none",
          "justifyMode": "center",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "text": {},
          "textMode": "auto"
        },
        "pluginVersion": "8.4.3",
        "targets": [
          {
            "datasource": {
              "type": "cloudwatch",
              "uid": "${datasource}"
            },
            "expression": "fields @timestamp, @message\n| fields strcontains(@message, 'RECON_SUCCESS') as passed\n| stats sum(passed) as passed_count",
            "id": "",
            "logGroupNames": [
              "/aws/lambda/cwsyn-mapping-wfuser-3f347cd7-a6a3-496f-be12-34c9d86382e0"
            ],
            "namespace": "CloudWatchSynthetics",
            "queryMode": "Logs",
            "refId": "A",
            "region": "default",
            "statsGroups": []
          }
        ],
        "timeFrom": "30m",
        "title": "Last Users Recon",
        "type": "stat"
      },
      {
        "datasource": {
          "type": "cloudwatch",
          "uid": "${datasource}"
        },
        "description": "OK = the IDM endpoint to check the latest Companies recon status was successful (200)\nFAIL= the IDM endpoint did not return a 200 code",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "decimals": 0,
            "displayName": "IDM Response 200",
            "mappings": [
              {
                "options": {
                  "0": {
                    "color": "green",
                    "index": 1,
                    "text": "OK"
                  }
                },
                "type": "value"
              },
              {
                "options": {
                  "from": 1,
                  "result": {
                    "color": "red",
                    "index": 0,
                    "text": "FAIL"
                  },
                  "to": 100
                },
                "type": "range"
              }
            ],
            "max": 100,
            "min": 0,
            "noValue": "0",
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "red",
                  "value": null
                },
                {
                  "color": "green",
                  "value": 1
                }
              ]
            },
            "unit": "none"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 7,
          "w": 4,
          "x": 0,
          "y": 8
        },
        "id": 62,
        "options": {
          "colorMode": "background",
          "graphMode": "none",
          "justifyMode": "center",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "textMode": "auto"
        },
        "pluginVersion": "8.4.3",
        "targets": [
          {
            "datasource": {
              "type": "cloudwatch",
              "uid": "${datasource}"
            },
            "expression": "fields @timestamp, @message\n| fields strcontains(@message, 'CANNOT_REACH_IDM_ENDPOINT') as failed\n| stats sum(failed) as failed_count",
            "id": "",
            "logGroupNames": [
              "/aws/lambda/cwsyn-mapping-chscompany-d2285bc6-eac0-4206-afc1-4086df4a1b4c"
            ],
            "namespace": "CloudWatchSynthetics",
            "queryMode": "Logs",
            "refId": "A",
            "region": "default",
            "statsGroups": []
          }
        ],
        "timeFrom": "30m",
        "title": "IDM Response 200 - Companies",
        "type": "stat"
      },
      {
        "datasource": {
          "type": "cloudwatch",
          "uid": "${datasource}"
        },
        "description": "OK = the IDM endpoint to check the latest Auth Codes recon status was successful (200)\nFAIL= the IDM endpoint did not return a 200 code",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "decimals": 0,
            "displayName": "IDM Response 200",
            "mappings": [
              {
                "options": {
                  "0": {
                    "color": "green",
                    "index": 1,
                    "text": "OK"
                  }
                },
                "type": "value"
              },
              {
                "options": {
                  "from": 1,
                  "result": {
                    "color": "red",
                    "index": 0,
                    "text": "FAIL"
                  },
                  "to": 100
                },
                "type": "range"
              }
            ],
            "max": 100,
            "min": 0,
            "noValue": "0",
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "red",
                  "value": null
                },
                {
                  "color": "green",
                  "value": 1
                }
              ]
            },
            "unit": "none"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 7,
          "w": 4,
          "x": 4,
          "y": 8
        },
        "id": 63,
        "options": {
          "colorMode": "background",
          "graphMode": "none",
          "justifyMode": "center",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "textMode": "auto"
        },
        "pluginVersion": "8.4.3",
        "targets": [
          {
            "datasource": {
              "type": "cloudwatch",
              "uid": "${datasource}"
            },
            "expression": "fields @timestamp, @message\n| fields strcontains(@message, 'CANNOT_REACH_IDM_ENDPOINT') as failed\n| stats sum(failed) as failed_count",
            "id": "",
            "logGroupNames": [
              "/aws/lambda/cwsyn-mapping-wfauthcode-70eb801d-5c40-48bc-b944-d9318ffac431"
            ],
            "namespace": "CloudWatchSynthetics",
            "queryMode": "Logs",
            "refId": "A",
            "region": "default",
            "statsGroups": []
          }
        ],
        "timeFrom": "30m",
        "title": "IDM Response 200- Auth Codes",
        "type": "stat"
      },
      {
        "datasource": {
          "type": "cloudwatch",
          "uid": "${datasource}"
        },
        "description": "OK = the latest Users recon was successful",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "decimals": 0,
            "displayName": "IDM Response 200",
            "mappings": [
              {
                "options": {
                  "0": {
                    "color": "green",
                    "index": 1,
                    "text": "OK"
                  }
                },
                "type": "value"
              },
              {
                "options": {
                  "from": 1,
                  "result": {
                    "color": "red",
                    "index": 0,
                    "text": "FAIL"
                  },
                  "to": 100
                },
                "type": "range"
              }
            ],
            "max": 100,
            "min": 0,
            "noValue": "0",
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "red",
                  "value": null
                },
                {
                  "color": "green",
                  "value": 1
                }
              ]
            },
            "unit": "none"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 7,
          "w": 4,
          "x": 8,
          "y": 8
        },
        "id": 64,
        "options": {
          "colorMode": "background",
          "graphMode": "none",
          "justifyMode": "center",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "textMode": "auto"
        },
        "pluginVersion": "8.4.3",
        "targets": [
          {
            "datasource": {
              "type": "cloudwatch",
              "uid": "${datasource}"
            },
            "expression": "fields @timestamp, @message\n| fields strcontains(@message, 'CANNOT_REACH_IDM_ENDPOINT') as failed\n| stats sum(failed) as failed_count",
            "id": "",
            "logGroupNames": [
              "/aws/lambda/cwsyn-mapping-wfuser-3f347cd7-a6a3-496f-be12-34c9d86382e0"
            ],
            "namespace": "CloudWatchSynthetics",
            "queryMode": "Logs",
            "refId": "A",
            "region": "default",
            "statsGroups": []
          }
        ],
        "timeFrom": "30m",
        "title": "IDM Response 200 - Users",
        "type": "stat"
      },
      {
        "collapsed": false,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 15
        },
        "id": 26,
        "panels": [],
        "title": "Latest Recons Details (records processed)",
        "type": "row"
      },
      {
        "datasource": {
          "type": "cloudwatch",
          "uid": "${datasource}"
        },
        "description": "Success rate of the successfully processed records check of  latest Companies recon.\n \nEvery check is OK if the latest Companies recon has completed with SUCCESS , and the record processing failure rate is less than 30% ",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "fillOpacity": 80,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "lineWidth": 1,
              "scaleDistribution": {
                "type": "linear"
              }
            },
            "mappings": [],
            "max": 100,
            "min": 0,
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 90
                }
              ]
            }
          },
          "overrides": []
        },
        "gridPos": {
          "h": 8,
          "w": 7,
          "x": 0,
          "y": 16
        },
        "id": 28,
        "options": {
          "barRadius": 0,
          "barWidth": 0.97,
          "groupWidth": 0.7,
          "legend": {
            "calcs": [],
            "displayMode": "hidden",
            "placement": "bottom"
          },
          "orientation": "auto",
          "showValue": "always",
          "stacking": "none",
          "tooltip": {
            "mode": "single",
            "sort": "none"
          },
          "xTickLabelRotation": 0,
          "xTickLabelSpacing": 0
        },
        "targets": [
          {
            "alias": "",
            "datasource": {
              "type": "cloudwatch",
              "uid": "${datasource}"
            },
            "dimensions": {
              "CanaryName": "mapping-chscompany"
            },
            "expression": "",
            "hide": false,
            "id": "",
            "matchExact": true,
            "metricEditorMode": 0,
            "metricName": "SuccessPercent",
            "metricQueryType": 0,
            "namespace": "CloudWatchSynthetics",
            "period": "$agg",
            "queryMode": "Metrics",
            "refId": "A",
            "region": "default",
            "sqlExpression": "",
            "statistic": "Average"
          }
        ],
        "timeFrom": "7d",
        "title": "Companies last sync record processed success rate",
        "type": "barchart"
      },
      {
        "datasource": {
          "type": "cloudwatch",
          "uid": "${datasource}"
        },
        "description": "OK = in the last Companies recon, the number of records which failed processing is less than 30%",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "decimals": 0,
            "displayName": "Last check",
            "mappings": [
              {
                "options": {
                  "100": {
                    "color": "green",
                    "index": 0,
                    "text": "OK"
                  }
                },
                "type": "value"
              },
              {
                "options": {
                  "from": 0,
                  "result": {
                    "color": "red",
                    "index": 1,
                    "text": "FAIL"
                  },
                  "to": 99
                },
                "type": "range"
              }
            ],
            "max": 100,
            "min": 0,
            "noValue": "0",
            "thresholds": {
              "mode": "percentage",
              "steps": [
                {
                  "color": "red",
                  "value": null
                },
                {
                  "color": "green",
                  "value": 99
                }
              ]
            },
            "unit": "none"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 8,
          "w": 5,
          "x": 7,
          "y": 16
        },
        "id": 34,
        "options": {
          "colorMode": "background",
          "graphMode": "none",
          "justifyMode": "center",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "textMode": "auto"
        },
        "pluginVersion": "8.4.3",
        "targets": [
          {
            "alias": "",
            "datasource": {
              "type": "cloudwatch",
              "uid": "${datasource}"
            },
            "dimensions": {
              "CanaryName": "mapping-chscompany"
            },
            "expression": "",
            "id": "",
            "matchExact": true,
            "metricEditorMode": 0,
            "metricName": "SuccessPercent",
            "metricQueryType": 0,
            "namespace": "CloudWatchSynthetics",
            "period": "",
            "queryMode": "Metrics",
            "refId": "A",
            "region": "default",
            "sqlExpression": "",
            "statistic": "Average"
          }
        ],
        "timeFrom": "30m",
        "title": "Latest Companies Recon OK records",
        "type": "stat"
      },
      {
        "datasource": {
          "type": "cloudwatch",
          "uid": "${datasource}"
        },
        "description": "Success rate of the successfully processed records check of  latest Auth Codes recon.\n \nEvery check is OK if the latest Auth Codes recon has completed with SUCCESS , and the record processing failure rate is less than 30% ",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "fillOpacity": 80,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "lineWidth": 1,
              "scaleDistribution": {
                "type": "linear"
              }
            },
            "mappings": [],
            "max": 100,
            "min": 0,
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 90
                }
              ]
            }
          },
          "overrides": []
        },
        "gridPos": {
          "h": 8,
          "w": 7,
          "x": 0,
          "y": 24
        },
        "id": 40,
        "options": {
          "barRadius": 0,
          "barWidth": 0.97,
          "groupWidth": 0.7,
          "legend": {
            "calcs": [],
            "displayMode": "hidden",
            "placement": "bottom"
          },
          "orientation": "auto",
          "showValue": "always",
          "stacking": "none",
          "tooltip": {
            "mode": "single",
            "sort": "none"
          },
          "xTickLabelRotation": 0,
          "xTickLabelSpacing": 0
        },
        "targets": [
          {
            "alias": "",
            "datasource": {
              "type": "cloudwatch",
              "uid": "${datasource}"
            },
            "dimensions": {
              "CanaryName": "mapping-wfauthcode"
            },
            "expression": "",
            "hide": false,
            "id": "",
            "matchExact": true,
            "metricEditorMode": 0,
            "metricName": "SuccessPercent",
            "metricQueryType": 0,
            "namespace": "CloudWatchSynthetics",
            "period": "$agg",
            "queryMode": "Metrics",
            "refId": "A",
            "region": "default",
            "sqlExpression": "",
            "statistic": "Average"
          }
        ],
        "timeFrom": "7d",
        "title": "Auth Codes last sync record processed success rate",
        "type": "barchart"
      },
      {
        "datasource": {
          "type": "cloudwatch",
          "uid": "${datasource}"
        },
        "description": "OK = in the last Auth Codes recon, the number of records which failed processing is less than 30%",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "decimals": 3,
            "displayName": "Last check",
            "mappings": [
              {
                "options": {
                  "100": {
                    "color": "green",
                    "index": 0,
                    "text": "OK"
                  }
                },
                "type": "value"
              },
              {
                "options": {
                  "from": 0,
                  "result": {
                    "color": "red",
                    "index": 1,
                    "text": "FAIL"
                  },
                  "to": 99
                },
                "type": "range"
              }
            ],
            "max": 100,
            "min": 0,
            "noValue": "0",
            "thresholds": {
              "mode": "percentage",
              "steps": [
                {
                  "color": "red",
                  "value": null
                },
                {
                  "color": "green",
                  "value": 99
                }
              ]
            },
            "unit": "none"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 8,
          "w": 5,
          "x": 7,
          "y": 24
        },
        "id": 42,
        "options": {
          "colorMode": "background",
          "graphMode": "none",
          "justifyMode": "center",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "textMode": "auto"
        },
        "pluginVersion": "8.4.3",
        "targets": [
          {
            "alias": "",
            "datasource": {
              "type": "cloudwatch",
              "uid": "${datasource}"
            },
            "dimensions": {
              "CanaryName": "mapping-wfauthcode"
            },
            "expression": "",
            "id": "",
            "matchExact": true,
            "metricEditorMode": 0,
            "metricName": "SuccessPercent",
            "metricQueryType": 0,
            "namespace": "CloudWatchSynthetics",
            "period": "",
            "queryMode": "Metrics",
            "refId": "A",
            "region": "default",
            "sqlExpression": "",
            "statistic": "Average"
          }
        ],
        "timeFrom": "30m",
        "title": "Latest Auth codes Recon OK records",
        "type": "stat"
      },
      {
        "datasource": {
          "type": "cloudwatch",
          "uid": "${datasource}"
        },
        "description": "Success rate of the successfully processed records check of  latest Users recon.\n \nEvery check is OK if the latest Users recon has completed with SUCCESS , and the record processing failure rate is less than 30% ",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "fillOpacity": 80,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "lineWidth": 1,
              "scaleDistribution": {
                "type": "linear"
              }
            },
            "mappings": [],
            "max": 100,
            "min": 0,
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 90
                }
              ]
            }
          },
          "overrides": []
        },
        "gridPos": {
          "h": 8,
          "w": 7,
          "x": 0,
          "y": 32
        },
        "id": 48,
        "options": {
          "barRadius": 0,
          "barWidth": 0.97,
          "groupWidth": 0.7,
          "legend": {
            "calcs": [],
            "displayMode": "hidden",
            "placement": "bottom"
          },
          "orientation": "auto",
          "showValue": "always",
          "stacking": "none",
          "tooltip": {
            "mode": "single",
            "sort": "none"
          },
          "xTickLabelRotation": 0,
          "xTickLabelSpacing": 0
        },
        "targets": [
          {
            "alias": "",
            "datasource": {
              "type": "cloudwatch",
              "uid": "${datasource}"
            },
            "dimensions": {
              "CanaryName": "mapping-wfuser"
            },
            "expression": "",
            "hide": false,
            "id": "",
            "matchExact": true,
            "metricEditorMode": 0,
            "metricName": "SuccessPercent",
            "metricQueryType": 0,
            "namespace": "CloudWatchSynthetics",
            "period": "$agg",
            "queryMode": "Metrics",
            "refId": "A",
            "region": "default",
            "sqlExpression": "",
            "statistic": "Average"
          }
        ],
        "timeFrom": "7d",
        "title": "Users last sync record processed success rate",
        "type": "barchart"
      },
      {
        "datasource": {
          "type": "cloudwatch",
          "uid": "${datasource}"
        },
        "description": "OK = in the last Users recon, the number of records which failed processing is less than 30%",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "decimals": 0,
            "displayName": "Last check",
            "mappings": [
              {
                "options": {
                  "100": {
                    "color": "green",
                    "index": 0,
                    "text": "OK"
                  }
                },
                "type": "value"
              },
              {
                "options": {
                  "from": 0,
                  "result": {
                    "color": "red",
                    "index": 1,
                    "text": "FAIL"
                  },
                  "to": 99
                },
                "type": "range"
              }
            ],
            "max": 100,
            "min": 0,
            "noValue": "0",
            "thresholds": {
              "mode": "percentage",
              "steps": [
                {
                  "color": "red",
                  "value": null
                },
                {
                  "color": "green",
                  "value": 99
                }
              ]
            },
            "unit": "none"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 8,
          "w": 5,
          "x": 7,
          "y": 32
        },
        "id": 50,
        "options": {
          "colorMode": "background",
          "graphMode": "none",
          "justifyMode": "center",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "textMode": "auto"
        },
        "pluginVersion": "8.4.3",
        "targets": [
          {
            "alias": "",
            "datasource": {
              "type": "cloudwatch",
              "uid": "${datasource}"
            },
            "dimensions": {
              "CanaryName": "mapping-wfuser"
            },
            "expression": "",
            "id": "",
            "matchExact": true,
            "metricEditorMode": 0,
            "metricName": "SuccessPercent",
            "metricQueryType": 0,
            "namespace": "CloudWatchSynthetics",
            "period": "",
            "queryMode": "Metrics",
            "refId": "A",
            "region": "default",
            "sqlExpression": "",
            "statistic": "Average"
          }
        ],
        "timeFrom": "30m",
        "title": "Latest User Recon OK records",
        "type": "stat"
      },
      {
        "collapsed": false,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 40
        },
        "id": 24,
        "panels": [],
        "title": "Recon Duration",
        "type": "row"
      },
      {
        "datasource": {
          "type": "cloudwatch",
          "uid": "${datasource}"
        },
        "description": "Success rate of duration checks for companies recon duration: SUCCESS is when the recon lasts less than the configured threshold (5 mins in DEV,  4 hours in STAGING and LIVE)",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "fillOpacity": 80,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "lineWidth": 1,
              "scaleDistribution": {
                "type": "linear"
              }
            },
            "mappings": [],
            "max": 100,
            "min": 0,
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 90
                }
              ]
            }
          },
          "overrides": []
        },
        "gridPos": {
          "h": 8,
          "w": 7,
          "x": 0,
          "y": 41
        },
        "id": 8,
        "options": {
          "barRadius": 0,
          "barWidth": 0.97,
          "groupWidth": 0.7,
          "legend": {
            "calcs": [],
            "displayMode": "hidden",
            "placement": "bottom"
          },
          "orientation": "auto",
          "showValue": "always",
          "stacking": "none",
          "tooltip": {
            "mode": "single",
            "sort": "none"
          },
          "xTickLabelRotation": 0,
          "xTickLabelSpacing": 0
        },
        "targets": [
          {
            "alias": "",
            "datasource": {
              "type": "cloudwatch",
              "uid": "${datasource}"
            },
            "dimensions": {
              "CanaryName": "duration-chscompany"
            },
            "expression": "",
            "hide": false,
            "id": "",
            "matchExact": true,
            "metricEditorMode": 0,
            "metricName": "SuccessPercent",
            "metricQueryType": 0,
            "namespace": "CloudWatchSynthetics",
            "period": "$agg",
            "queryMode": "Metrics",
            "refId": "A",
            "region": "default",
            "sqlExpression": "",
            "statistic": "Average"
          }
        ],
        "timeFrom": "7d",
        "title": "Companies recon duration check success rate",
        "type": "barchart"
      },
      {
        "datasource": {
          "type": "cloudwatch",
          "uid": "${datasource}"
        },
        "description": "OK = the last Companies reconciliation completed (with either SUCCESS or FAIL) below the duration threshold (5 mins in DEV and 4 hours in STAGING and LIVE)\nFAILS = the last Companies recon lasted more than the duration threshold value",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "decimals": 0,
            "displayName": "Last check",
            "mappings": [
              {
                "options": {
                  "100": {
                    "color": "green",
                    "index": 0,
                    "text": "OK"
                  }
                },
                "type": "value"
              },
              {
                "options": {
                  "from": 0,
                  "result": {
                    "color": "red",
                    "index": 1,
                    "text": "FAIL"
                  },
                  "to": 99
                },
                "type": "range"
              }
            ],
            "max": 100,
            "min": 0,
            "noValue": "0",
            "thresholds": {
              "mode": "percentage",
              "steps": [
                {
                  "color": "red",
                  "value": null
                }
              ]
            },
            "unit": "none"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 8,
          "w": 5,
          "x": 7,
          "y": 41
        },
        "id": 10,
        "options": {
          "colorMode": "background",
          "graphMode": "none",
          "justifyMode": "center",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "textMode": "auto"
        },
        "pluginVersion": "8.4.3",
        "targets": [
          {
            "alias": "",
            "datasource": {
              "type": "cloudwatch",
              "uid": "${datasource}"
            },
            "dimensions": {
              "CanaryName": "duration-chscompany"
            },
            "expression": "",
            "id": "",
            "matchExact": true,
            "metricEditorMode": 0,
            "metricName": "SuccessPercent",
            "metricQueryType": 0,
            "namespace": "CloudWatchSynthetics",
            "period": "$agg",
            "queryMode": "Metrics",
            "refId": "A",
            "region": "default",
            "sqlExpression": "",
            "statistic": "Average"
          }
        ],
        "timeFrom": "30m",
        "title": "Last Companies Recon Duration Check",
        "type": "stat"
      },
      {
        "datasource": {
          "type": "cloudwatch",
          "uid": "${datasource}"
        },
        "description": "",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "fillOpacity": 80,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "lineWidth": 1,
              "scaleDistribution": {
                "type": "linear"
              }
            },
            "mappings": [],
            "max": 100,
            "min": 0,
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 90
                }
              ]
            }
          },
          "overrides": []
        },
        "gridPos": {
          "h": 8,
          "w": 7,
          "x": 0,
          "y": 49
        },
        "id": 15,
        "options": {
          "barRadius": 0,
          "barWidth": 0.97,
          "groupWidth": 0.7,
          "legend": {
            "calcs": [],
            "displayMode": "hidden",
            "placement": "bottom"
          },
          "orientation": "auto",
          "showValue": "always",
          "stacking": "none",
          "tooltip": {
            "mode": "single",
            "sort": "none"
          },
          "xTickLabelRotation": 0,
          "xTickLabelSpacing": 0
        },
        "targets": [
          {
            "alias": "",
            "datasource": {
              "type": "cloudwatch",
              "uid": "${datasource}"
            },
            "dimensions": {
              "CanaryName": "duration-wfauthcode"
            },
            "expression": "",
            "hide": false,
            "id": "",
            "matchExact": true,
            "metricEditorMode": 0,
            "metricName": "SuccessPercent",
            "metricQueryType": 0,
            "namespace": "CloudWatchSynthetics",
            "period": "$agg",
            "queryMode": "Metrics",
            "refId": "A",
            "region": "default",
            "sqlExpression": "",
            "statistic": "Average"
          }
        ],
        "timeFrom": "7d",
        "title": "Auth Codes recon duration check success rate",
        "type": "barchart"
      },
      {
        "datasource": {
          "type": "cloudwatch",
          "uid": "${datasource}"
        },
        "description": "OK = the last Auth Codes reconciliation completed (with either SUCCESS or FAIL) below the duration threshold (5 mins in DEV and 4 hours in STAGING and LIVE)\nFAILS = the last Auth Codes recon lasted more than the duration threshold value",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "decimals": 0,
            "displayName": "Last check",
            "mappings": [
              {
                "options": {
                  "100": {
                    "color": "green",
                    "index": 0,
                    "text": "OK"
                  }
                },
                "type": "value"
              },
              {
                "options": {
                  "from": 0,
                  "result": {
                    "color": "red",
                    "index": 1,
                    "text": "FAIL"
                  },
                  "to": 99
                },
                "type": "range"
              }
            ],
            "max": 100,
            "min": 0,
            "noValue": "0",
            "thresholds": {
              "mode": "percentage",
              "steps": [
                {
                  "color": "red",
                  "value": null
                },
                {
                  "color": "green",
                  "value": 99
                }
              ]
            },
            "unit": "none"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 8,
          "w": 5,
          "x": 7,
          "y": 49
        },
        "id": 16,
        "options": {
          "colorMode": "background",
          "graphMode": "none",
          "justifyMode": "center",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "textMode": "auto"
        },
        "pluginVersion": "8.4.3",
        "targets": [
          {
            "alias": "",
            "datasource": {
              "type": "cloudwatch",
              "uid": "${datasource}"
            },
            "dimensions": {
              "CanaryName": "duration-wfauthcode"
            },
            "expression": "",
            "id": "",
            "matchExact": true,
            "metricEditorMode": 0,
            "metricName": "SuccessPercent",
            "metricQueryType": 0,
            "namespace": "CloudWatchSynthetics",
            "period": "",
            "queryMode": "Metrics",
            "refId": "A",
            "region": "default",
            "sqlExpression": "",
            "statistic": "Average"
          }
        ],
        "timeFrom": "30m",
        "title": "Auth Codes Recon Duration Check",
        "type": "stat"
      },
      {
        "datasource": {
          "type": "cloudwatch",
          "uid": "${datasource}"
        },
        "description": "Success rate of the recon duration checks on the Users reconciliations.",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "fillOpacity": 80,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "lineWidth": 1,
              "scaleDistribution": {
                "type": "linear"
              }
            },
            "mappings": [],
            "max": 100,
            "min": 0,
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 90
                }
              ]
            }
          },
          "overrides": []
        },
        "gridPos": {
          "h": 8,
          "w": 7,
          "x": 0,
          "y": 57
        },
        "id": 19,
        "options": {
          "barRadius": 0,
          "barWidth": 0.97,
          "groupWidth": 0.7,
          "legend": {
            "calcs": [],
            "displayMode": "hidden",
            "placement": "bottom"
          },
          "orientation": "auto",
          "showValue": "always",
          "stacking": "none",
          "tooltip": {
            "mode": "single",
            "sort": "none"
          },
          "xTickLabelRotation": 0,
          "xTickLabelSpacing": 0
        },
        "targets": [
          {
            "alias": "",
            "datasource": {
              "type": "cloudwatch",
              "uid": "${datasource}"
            },
            "dimensions": {
              "CanaryName": "duration-wfuser"
            },
            "expression": "",
            "hide": false,
            "id": "",
            "matchExact": true,
            "metricEditorMode": 0,
            "metricName": "SuccessPercent",
            "metricQueryType": 0,
            "namespace": "CloudWatchSynthetics",
            "period": "$agg",
            "queryMode": "Metrics",
            "refId": "A",
            "region": "default",
            "sqlExpression": "",
            "statistic": "Average"
          }
        ],
        "timeFrom": "7d",
        "title": "Users Recon duration check success rate",
        "type": "barchart"
      },
      {
        "datasource": {
          "type": "cloudwatch",
          "uid": "${datasource}"
        },
        "description": "OK = the last Users reconciliation completed (with either SUCCESS or FAIL) below the duration threshold (5 mins in DEV and 4 hours in STAGING and LIVE)\n\nFAILS = the last Users recon lasted more than the duration threshold value",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "decimals": 0,
            "displayName": "Last check",
            "mappings": [
              {
                "options": {
                  "100": {
                    "color": "green",
                    "index": 0,
                    "text": "OK"
                  }
                },
                "type": "value"
              },
              {
                "options": {
                  "from": 0,
                  "result": {
                    "color": "red",
                    "index": 1,
                    "text": "FAIL"
                  },
                  "to": 99
                },
                "type": "range"
              }
            ],
            "max": 100,
            "min": 0,
            "noValue": "0",
            "thresholds": {
              "mode": "percentage",
              "steps": [
                {
                  "color": "red",
                  "value": null
                },
                {
                  "color": "green",
                  "value": 99
                }
              ]
            },
            "unit": "none"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 8,
          "w": 5,
          "x": 7,
          "y": 57
        },
        "id": 20,
        "options": {
          "colorMode": "background",
          "graphMode": "none",
          "justifyMode": "center",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "textMode": "auto"
        },
        "pluginVersion": "8.4.3",
        "targets": [
          {
            "alias": "",
            "datasource": {
              "type": "cloudwatch",
              "uid": "${datasource}"
            },
            "dimensions": {
              "CanaryName": "duration-wfuser"
            },
            "expression": "",
            "id": "",
            "matchExact": true,
            "metricEditorMode": 0,
            "metricName": "SuccessPercent",
            "metricQueryType": 0,
            "namespace": "CloudWatchSynthetics",
            "period": "",
            "queryMode": "Metrics",
            "refId": "A",
            "region": "default",
            "sqlExpression": "",
            "statistic": "Average"
          }
        ],
        "timeFrom": "30m",
        "title": "Users Recon Duration Check",
        "type": "stat"
      },
      {
        "collapsed": false,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 65
        },
        "id": 30,
        "panels": [],
        "title": "Cancelled Recons",
        "type": "row"
      },
      {
        "datasource": {
          "type": "cloudwatch",
          "uid": "${datasource}"
        },
        "description": "Number of Reconciliation Jobs That Have Been Cancelled Today (all ACTIVE recons which last more than 5 hours get cancelled automatically) ",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 1
                }
              ]
            }
          },
          "overrides": []
        },
        "gridPos": {
          "h": 7,
          "w": 6,
          "x": 0,
          "y": 66
        },
        "id": 4,
        "options": {
          "colorMode": "value",
          "graphMode": "area",
          "justifyMode": "auto",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "textMode": "auto"
        },
        "pluginVersion": "8.4.3",
        "targets": [
          {
            "datasource": {
              "type": "cloudwatch",
              "uid": "${datasource}"
            },
            "expression": "fields @timestamp, @message\n| fields strcontains(@message, 'Recon Cancelled:') as recon_cancelled\n| stats sum(recon_cancelled) as recon_cancelled_count",
            "id": "",
            "logGroupNames": [
              "/aws/lambda/cwsyn-fr-cancel-recon-after-e59ffab2-25eb-44fb-ab6d-88eb355612db"
            ],
            "namespace": "",
            "queryMode": "Logs",
            "refId": "A",
            "region": "default",
            "statsGroups": []
          }
        ],
        "timeFrom": "now/d",
        "title": "Number of Reconciliation Jobs That Have Been Cancelled Today",
        "type": "stat"
      },
      {
        "datasource": {
          "type": "cloudwatch",
          "uid": "${datasource}"
        },
        "gridPos": {
          "h": 7,
          "w": 12,
          "x": 6,
          "y": 66
        },
        "id": 6,
        "options": {
          "dedupStrategy": "none",
          "enableLogDetails": false,
          "prettifyLogMessage": false,
          "showCommonLabels": false,
          "showLabels": false,
          "showTime": false,
          "sortOrder": "Descending",
          "wrapLogMessage": false
        },
        "pluginVersion": "8.4.3",
        "targets": [
          {
            "datasource": {
              "type": "cloudwatch",
              "uid": "${datasource}"
            },
            "expression": "fields @timestamp, @message\n| filter @message like /Recon Cancelled:/\n| parse \"* * *\" as Time, Cancelled, Name",
            "id": "",
            "logGroupNames": [
              "/aws/lambda/cwsyn-fr-cancel-recon-after-e59ffab2-25eb-44fb-ab6d-88eb355612db"
            ],
            "namespace": "",
            "queryMode": "Logs",
            "refId": "A",
            "region": "default",
            "statsGroups": []
          }
        ],
        "timeFrom": "now/d",
        "title": "Reconciliation Jobs That Have Been Cancelled Today",
        "type": "logs"
      }
    ],
    "refresh": "15m",
    "schemaVersion": 35,
    "style": "dark",
    "tags": [],
    "templating": {
      "list": [
        {
          "current": {
            "selected": false,
            "text": "CloudWatch",
            "value": "CloudWatch"
          },
          "hide": 2,
          "includeAll": false,
          "label": "DataSource",
          "multi": false,
          "name": "datasource",
          "options": [],
          "query": "cloudwatch",
          "refresh": 1,
          "regex": "",
          "skipUrlSync": false,
          "type": "datasource"
        },
        {
          "auto": false,
          "auto_count": 30,
          "auto_min": "10s",
          "current": {
            "selected": false,
            "text": "1d",
            "value": "1d"
          },
          "hide": 2,
          "label": "Aggregation",
          "name": "agg",
          "options": [
            {
              "selected": true,
              "text": "1d",
              "value": "1d"
            }
          ],
          "query": "1d",
          "queryValue": "",
          "refresh": 2,
          "skipUrlSync": false,
          "type": "interval"
        }
      ]
    },
    "time": {
      "from": "now-30m",
      "to": "now"
    },
    "timepicker": {},
    "timezone": "",
    "title": "ForgeRock Reconciliation",
    "uid": "Zw6TVuPnk",
    "version": 88,
    "weekStart": ""
  }